# LB03 Container
## Container, die Zukunft
**Einleitung**
Container ändern die Art und Weise, wie wir Software entwickeln, verteilen und laufen lassen, grundlegend.
Entwickler können Software lokal bauen, die woanders genauso laufen wird – sei es ein Rack in der IT-Abteilung,
der Laptop eines Anwenders oder ein Cluster in der Cloud.
Administratoren können sich auf die Netzwerke, Ressourcen und die Uptime konzentrieren und müssen weniger Zeit mit dem Konfigurieren
von Umgebungen und dem Kampf mit Systemabhängigkeiten verbringen.

## Docker ##
|**Vorteile**   |**Nachteile**       |
|---------------|:------------------:|
|Portabilität   |Linux Verständnis   |
|Skalierbarkeit |Sicherheit
|Isolation      |Überkopf
|Wiederverwendbarkeit|Komplexität
|Schnellebereitstellung| 

### Beschreibung
#### Portabilität
1. Docker-Container können auf verschiedenen Betriebssystemen, Cloud-Plattformen und Servern ausgeführt werden. Dies macht es einfach, Anwendungen von einer Umgebung zur anderen zu verschieben.
#### Skalierbarkeit
2. Mit Docker können Anwendungen schnell und einfach horizontal skaliert werden. Neue Container können einfach hinzugefügt werden, um den Anforderungen des Geschäfts gerecht zu werden.
#### Isolation
3. Docker verwendet Linux-Container, um Anwendungen in einer isolierten Umgebung auszuführen. Dies bedeutet, dass Anwendungen sicher und stabil laufen können, ohne von anderen Anwendungen beeinflusst zu werden.
#### Wiederverwendbarkeit
4. Docker-Images können für verschiedene Anwendungen und Umgebungen wiederverwendet werden. Dies spart Zeit und Ressourcen bei der Bereitstellung neuer Anwendungen.
#### Schnellebereitstellung
5.  Mit Docker können Entwickler Anwendungen schnell bereitstellen, ohne sich Gedanken über Abhängigkeiten oder Umgebungseinstellungen machen zu müssen.

***
## Befehle ##

### Docker run ###
1. Startet neue Container
2. Ermöglicht es dem Anwender, zu konfigurieren, wie das Image laufen soll, Dockerfile-Einstellungen zu überschreiben, Verbindungen zu konfigurieren und Berechtigungen und Ressourcen für den Container zu setzen.

**Startet einen Test Container**

``$ docker run hello-world``

**Startet einen oder mehrere gestoppte Container**

``$ docker start``

**Docker wird gestoppt**

``$docker stop``

**Docker Image wird erstellt**

``$docker-datei``

**Docker zieht ein Repository oder ein Image**

``$docker-pull``

**Startet einen Container mit einer interaktiven Shell (interactive, tty)**
``$docker run -it ubuntu /bin/bash``

**Startet einen Container im Hintergrund und löscht (remove) diesen nach Beendigung des Jobs**

``$ docker run -d --rm ubuntu sleep 20``

**Startet einen Container im Hintergrund und legt eine Datei an**

``$ docker run -d ubuntu touch /tmp/lock``

**Startet einen Container im Hintergrund und gibt das ROOT-Verzeichnis (/) nach STDOUT aus**

``$ docker run -d ubuntu ls -l``

### Docker ps
1. Gibt einen Überblick über die aktuellen Container, wie z.B. Namen, ID's und Status
   
**Aktive Container anzeigen**

``$ docker ps``

**Aktive und beendete Container anzeigen (all)**

``$ docker ps -a``

**Nur IDs ausgeben (all, quit)**

``$ docker ps -a -q``


### docker images
1. Gibt eine Liste lokaler Images aus, wobei Informationen zu Repository-Namem, Tag-Namen und Grösse enthalten sind
   
**Lokale Images ausgeben**

``$ docker images``

**Alternativ auch mit image ls**

``$ docker image ls``


### docker rm und docker rmi
1. Docker rm entfernt einen oder mehrere Container. Gibt die Namen oder ID's erfolgreich gelöschter Container zurück.
2. Docker rmi löscht das oder die angegebenen Images. Diese werden durch ihre ID oder Repository-und Tag-Namen spezifiziert
   
**Docker Container löschen**

``$ docker rm [name]``

**Alle beendeten Container löschen**

``$ docker rm `docker ps -a -q` ``

**Alle Container, auch aktive, löschen**

``$ docker rm -f `docker ps -a -q` ``

**Docker Image löschen**

``$ docker rmi ubuntu``

**Zwischenimages löschen (haben keinen Namen)**

``$ docker rmi `docker images -q -f dangling=true` ``

### docker start
1. Startet einen (oder mehrere) gestoppte Container.
Kann genutzt werden, um einen Container neu zu starten, der beendet wurde, oder um einen Container zu starten, der mit docker create erzeugt, aber nie gestartet wurde.

***Docker Container neu starten, die Daten bleiben erhalten:*

``$ docker start [id]``

[^1]: M300 LB03
[^2]: von **Cyrill Kälin** 